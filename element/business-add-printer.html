<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<dom-module id="business-add-printer">
  <template>
    <paper-button id="g-signin" raised on-click="login">Login with Google</paper-button>
  </template>

  <script>
    Polymer({
      is: 'business-add-printer',
      attached: function() {
        this.fire('finished_attached',{done: 'true'});
        //attached function, used to get element id
      },
      properties: {
        usableToken: {
          type: Boolean,
          notify: true,
          observer: 'loginChanged'
        }
      },
      loginChanged: function(event){
        if(this.usableToken){
          var btn = document.querySelector('#g-signin');
          btn.style.visibility = "hidden";
        }
      },
    login: function(){
      window.location= 'http://localhost/anyprint/gcp/oAuthRedirect.php?op=offline';
    },
      ready: function(){
        //used to set value
        // this.offlineToken = "";
        // this.scope = "https://www.googleapis.com/auth/cloudprint";
      }
    });
  </script>
</dom-module>
